pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
	init_player()
end

function _update()
	animate_player()
	move_player()
end

function _draw()
	draw_elements()
end
-->8
function init_player()
	
	player_ani = {
		sprite = 1,
		stimer = 0,
		ani_speed = 5,
		first_frame = 1,
		last_frame = 4
	}

	player = {
			xcor = 63,
			ycor = 63
	}
end

function move_player()
	if btn(⬅️) then
		player.xcor -=1
	end
	
	if btn(➡️) then
		player.xcor += 1
	end
	
	if btn(⬆️) then
		player.ycor -= 1
	end
	
	if btn(⬇️) then
		player.ycor += 1
	end

end

function animate_player()
	if btn(⬅️) or btn(➡️) or btn(⬇️) or btn(⬆️) then
		if player_ani.stimer < player_ani.ani_speed then
			player_ani.stimer+=1
		else
			if player_ani.sprite < player_ani.last_frame then
				player_ani.sprite += 1
			else
				player_ani.sprite = player_ani.first_frame
			end
			player_ani.stimer=0
		end
	end
	
end

function draw_elements()
	cls()
	map()
	spr(player_ani.sprite,player.xcor,player.ycor)
end
-->8
function init_state()
	state = "start"
end

--todo
--create start screen that
--closes when button is pressed
--leading to main gameplay
__gfx__
00000000000000000000000000000000000000004444444444444444444444444666646444444444466666646666666600000000000000000000000000000000
00000000000440000004400000044000000440004444444444444444440444444666666466466646666646664444444400000000000000000000000000000000
00700700000ff000000ff000000ff000000ff000444b4b4444444444444444044666664466666666664666664444444400000000000000000000000000000000
000770000001100000011100001110000001100044b3b3b444444444444444444664666466666666666646644444444400000000000000000000000000000000
00077000001110000011101001011100000111004b3333b444444444404444444666666466464666666644664444444400000000000000000000000000000000
00700700000cc000000cc000000cc000000cc0004bbbbbb444444444444440444466666466666666466664664444444400000000000000000000000000000000
00000000000cc00000c00c00000cc00000c00c004444444444444444440444444666464466466646666666664444444400000000000000000000000000000000
00000000000000000000000000000000000000004444444444444444444444444666666444444444464666644444444400000000000000000000000000000000
__map__
0606060608070607060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606050608060606060607060506060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0607060608060607060606060706050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060608060606070606070606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090909090a090909090909090909090900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606050608060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0706060608060606060605060506060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060708060607050606060606060700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0607060608060606060607060607060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060608060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060608060606060606050605060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0506060708060606060606060606070600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060608050606060706050606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0607060608060607060606060606070600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
